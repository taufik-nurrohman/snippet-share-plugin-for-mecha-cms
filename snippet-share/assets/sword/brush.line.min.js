window.Rainbow&&(window.Rainbow.linenumbers=function(e){e.onHighlight(function(e){if(e&&e.parentNode){var n=document.createElement("table");n.className="code-block",n.setAttribute("data-language",e.getAttribute("data-language"));for(var i=[""],o=0;o<e.childNodes.length;o++){var a;if(a=e.childNodes[o],3===a.nodeType)a=a.nodeValue.split("\n");else{for(var t=a.innerHTML.split("\n"),l=[],d=0;d<t.length;d++)if(""===t[d])l.push("");else{var r=a.cloneNode(!0);r.innerHTML=t[d];var s=document.createElement("div");s.appendChild(r.cloneNode(!0)),l.push(s.innerHTML)}a=l}for(i[i.length-1]+=a[0],t=1;t<a.length;t++)i.push(a[t])}for(o=0;o<i.length;o++)a=i[o],t=o+1,l=n.insertRow(-1),l.className="code-line code-line-"+t,l.id="line:"+t,d=l.insertCell(-1),d.className="code-line-number",d.setAttribute("data-line-number",t),d.onclick=function(){window.location.hash=this.parentNode.id},t=l.insertCell(-1),t.className="code-line-code",""===a&&(a="\n"),t.innerHTML=a;e="pre"===e.nodeName.toLowerCase()?e:e.parentNode,e.innerHTML="",e.appendChild(n)}var a=window.location.hash;if(a)window.location.hash=a})}(window.Rainbow));