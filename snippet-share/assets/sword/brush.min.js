/* Rainbow rainbowco.de */window.Rainbow=function(){function k(a,b,c,d){var e=a.getAttribute&&a.getAttribute(b)||0;if(!e)for(c=a.attributes,d=0;d<c.length;++d)if(c[d].nodeName===b)return c[d].nodeValue;return e}function l(a,b){a.className+=a.className?" "+b:b}function m(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function n(a){var b=k(a,"data-language")||k(a.parentNode,"data-language");if(!b){var c=/\blang(?:uage)?-(\w+)/,d=a.className.match(c)||a.parentNode.className.match(c);d&&(b=d[1])}return b}function o(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;")}function p(a,b,c,d){return c>=a&&b>c?!0:d>a&&b>d}function q(a,b,c,d){return c==a&&d==b?!1:a>=c&&d>=b}function r(c,d){for(var f in b[e])if(f=parseInt(f,10),q(f,b[e][f],c,d)&&(delete b[e][f],delete a[e][f]),p(f,b[e][f],c,d))return!0;return!1}function s(a,b){return'<span class="'+a.replace(/\./g," ")+(i?" "+i:"")+'">'+b+"</span>"}function t(a,b){var d,c=0;for(d=1;b>d;++d)a[d]&&(c+=a[d].length);return c}function u(c,d,f,h){if("undefined"==typeof c||null===c)return h();var i=c.exec(f);if(!i)return h();++g,d.name||"string"!=typeof d.matches[0]||(d.name=d.matches[0],delete d.matches[0]);var j=i[0],k=i.index,l=i[0].length+k,m=function(){var a=function(){u(c,d,f,h)};return g%100>0?a():setTimeout(a,0)};if(r(k,l))return m();var n=function(c){d.name&&(c=s(d.name,c)),a[e]||(a[e]={},b[e]={}),a[e][k]={replace:i[0],"with":c},b[e][k]=l,m()},o=y(d.matches),p=function(a,b,c){if(a>=b.length)return c(j);var e=function(){p(++a,b,c)},f=i[b[a]];if(!f)return e();var g=d.matches[b[a]],h=g.language,k=g.name&&g.matches?g.matches:g,l=function(c,d,f){j=x(t(i,b[a]),c,f?s(f,d):d,j),e()};return h?B(f,h,function(a){l(f,a)}):"string"==typeof g?l(f,f,g):void z(f,k.length?k:[k],function(a){l(f,a,g.matches?g.name:0)})};p(0,o,n)}function v(a){return d[a]}function w(a){var b=c[a]||[],d=c[f]||[];return v(a)?b:b.concat(d)}function x(a,b,c,d){var e=d.substr(a);return d.substr(0,a)+e.replace(b,c)}function y(a){var b=[];for(var e in a)a.hasOwnProperty(e)&&b.push(e);return b.sort(function(a,b){return b-a})}function z(c,d,f){function g(d,h){return h<d.length?u(d[h].pattern,d[h],c,function(){g(d,++h)}):void A(c,function(c){delete a[e],delete b[e],--e,f(c)})}++e,g(d,0)}function A(b,c){function d(b,c,f,g){if(f<c.length){++h;var i=c[f],j=a[e][i];b=x(i,j.replace,j["with"],b);var k=function(){d(b,c,++f,g)};return h%250>0?k():setTimeout(k,0)}g(b)}var f=y(a[e]);d(b,f,0,c)}function B(a,b,c){var d=w(b);z(o(a),d,c)}function C(c,d,e){if(d<c.length){var f=c[d],g=n(f);return!m(f,"rainbow")&&g?(g=g.toLowerCase(),l(f,"rainbow"),B(f.innerHTML,g,function(h){f.innerHTML=h,a={},b={},j&&j(f,g),setTimeout(function(){C(c,++d,e)},0)})):C(c,++d,e)}e&&e()}function D(a,b){a=a&&"function"==typeof a.getElementsByTagName?a:document;var e,c=a.getElementsByTagName("pre"),d=a.getElementsByTagName("code"),f=[],g=[];for(e=0;e<c.length;++e)c[e].getElementsByTagName("code").length?c[e].innerHTML=c[e].innerHTML.replace(/^\s+/,"").replace(/\s+$/,""):f.push(c[e]);for(e=0;e<d.length;++e)g.push(d[e]);C(g.concat(f),0,b)}var i,j,a={},b={},c={},d={},e=0,f=0,g=0,h=0;return{extend:function(a,b,e){1==arguments.length&&(b=a,a=f),d[a]=e,c[a]=b.concat(c[a]||[])},onHighlight:function(a){j=a},addClass:function(a){i=a},color:function(){return"string"==typeof arguments[0]?B(arguments[0],arguments[1],arguments[2]):"function"==typeof arguments[0]?D(0,arguments[0]):void D(arguments[0],arguments[1])}}}(),function(){return document.addEventListener?document.addEventListener("DOMContentLoaded",Rainbow.color,!1):void window.attachEvent("onload",Rainbow.color)}(),Rainbow.onHighlight=Rainbow.onHighlight,Rainbow.addClass=Rainbow.addClass;